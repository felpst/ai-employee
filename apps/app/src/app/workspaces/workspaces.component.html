<div class="columns">
  <div class="list">
    <div style="padding: 16px">
      <h2>Workspaces</h2>

      <div>
        <button
          class="new"
          (click)="onNewWorkspace()"
          mat-stroked-button
          color="primary"
        >
          <mat-icon>add</mat-icon>
          New Workspace
        </button>
      </div>
    </div>

    <div class="items">
      <mat-action-list *ngFor="let workspace of workspaces">
        <button
          mat-list-item
          (click)="onWorkspace(workspace)"
          class="workspace-item"
          [ngClass]="{ selected: selectedWorkspace === workspace._id }"
        >
          <div class="button-content">
            <mat-icon class="icon">workspace</mat-icon>
            <div class="text" title="{{ workspace.name }}">
              {{ workspace.name || 'New workspace' }}
            </div>
            <div class="actions">
              <span
                class="chat material-symbols-outlined"
                (click)="$event.stopPropagation(); onChat(workspace)"
                title="Chats"
              >
                chat
              </span>

              <span
                class="database material-symbols-outlined"
                (click)="$event.stopPropagation(); onKnowledge(workspace)"
                title="Knowledge base"
              >
                database
              </span>

              <span
                class="edit material-symbols-outlined"
                (click)="$event.stopPropagation(); onEdit(workspace)"
                title="Edit"
              >
                edit
              </span>

              <span
                class="delete material-symbols-outlined"
                (click)="$event.stopPropagation(); onDelete(workspace)"
                title="Delete"
              >
                delete
              </span>
            </div>
          </div>
        </button>
      </mat-action-list>
    </div>
  </div>

  <div class="workspace">
    <router-outlet></router-outlet>
  </div>
</div>
