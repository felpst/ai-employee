import { Component } from '@angular/core';
import { MatIconRegistry } from '@angular/material/icon';
import { DomSanitizer } from '@angular/platform-browser';
import { WorkspacesService } from '../../../workspaces/workspaces.service';

const SETTINGS_ICON = `<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"> <path d="M13.4492 8.77879L12.4258 7.90379C12.4742 7.60691 12.4992 7.30378 12.4992 7.00066C12.4992 6.69753 12.4742 6.39441 12.4258 6.09754L13.4492 5.22253C13.5264 5.15645 13.5817 5.06843 13.6076 4.97019C13.6336 4.87194 13.629 4.76812 13.5945 4.67253L13.5805 4.63191C13.2987 3.84445 12.8768 3.11446 12.3352 2.47722L12.307 2.44441C12.2413 2.36715 12.1537 2.31161 12.0558 2.28511C11.9579 2.25861 11.8543 2.2624 11.7586 2.29597L10.4883 2.74753C10.0195 2.36316 9.4961 2.06003 8.93047 1.84753L8.68516 0.519409C8.66665 0.419475 8.61818 0.327538 8.54617 0.255812C8.47416 0.184086 8.38204 0.135967 8.28203 0.117847L8.23985 0.110034C7.42579 -0.0368408 6.56953 -0.0368408 5.75547 0.110034L5.71328 0.117847C5.61328 0.135967 5.52115 0.184086 5.44915 0.255812C5.37714 0.327538 5.32867 0.419475 5.31016 0.519409L5.06328 1.85378C4.50217 2.06633 3.97964 2.36929 3.51641 2.75066L2.23672 2.29597C2.14104 2.26213 2.03733 2.25821 1.93937 2.28472C1.84141 2.31124 1.75383 2.36693 1.68828 2.44441L1.66016 2.47722C1.11914 3.11492 0.697309 3.84478 0.414847 4.63191L0.400784 4.67253C0.330472 4.86785 0.388284 5.0866 0.546097 5.22253L1.58203 6.10691C1.5336 6.40066 1.51016 6.70066 1.51016 6.9991C1.51016 7.2991 1.5336 7.5991 1.58203 7.89129L0.546097 8.77566C0.468903 8.84174 0.413654 8.92976 0.387697 9.02801C0.36174 9.12625 0.366305 9.23007 0.400784 9.32566L0.414847 9.36629C0.697659 10.1538 1.11641 10.8803 1.66016 11.521L1.68828 11.5538C1.75399 11.631 1.84157 11.6866 1.93948 11.7131C2.03738 11.7396 2.14101 11.7358 2.23672 11.7022L3.51641 11.2475C3.98204 11.6303 4.50235 11.9335 5.06328 12.1444L5.31016 13.4788C5.32867 13.5787 5.37714 13.6707 5.44915 13.7424C5.52115 13.8141 5.61328 13.8622 5.71328 13.8803L5.75547 13.8882C6.57701 14.0358 7.41831 14.0358 8.23985 13.8882L8.28203 13.8803C8.38204 13.8622 8.47416 13.8141 8.54617 13.7424C8.61818 13.6707 8.66665 13.5787 8.68516 13.4788L8.93047 12.1507C9.49587 11.9387 10.0223 11.6346 10.4883 11.2507L11.7586 11.7022C11.8543 11.7361 11.958 11.74 12.0559 11.7135C12.1539 11.687 12.2415 11.6313 12.307 11.5538L12.3352 11.521C12.8789 10.8788 13.2977 10.1538 13.5805 9.36629L13.5945 9.32566C13.6648 9.13347 13.607 8.91472 13.4492 8.77879ZM11.3164 6.28191C11.3555 6.51785 11.3758 6.76004 11.3758 7.00222C11.3758 7.24441 11.3555 7.4866 11.3164 7.72253L11.2133 8.3491L12.3805 9.34754C12.2035 9.75517 11.9802 10.1411 11.7148 10.4975L10.2648 9.98347L9.77422 10.3866C9.40079 10.6928 8.98516 10.9335 8.53516 11.1022L7.93985 11.3257L7.66016 12.8413C7.21886 12.8913 6.77333 12.8913 6.33203 12.8413L6.05235 11.3225L5.46172 11.096C5.01641 10.9272 4.60235 10.6866 4.23203 10.3819L3.74141 9.97722L2.28203 10.496C2.01641 10.1382 1.79453 9.75222 1.61641 9.34597L2.7961 8.33816L2.69453 7.71316C2.65703 7.48035 2.63672 7.23972 2.63672 7.00222C2.63672 6.76316 2.65547 6.5241 2.69453 6.29129L2.7961 5.66628L1.61641 4.65847C1.79297 4.25066 2.01641 3.86628 2.28203 3.50847L3.74141 4.02722L4.23203 3.62253C4.60235 3.31785 5.01641 3.07722 5.46172 2.90847L6.05391 2.68503L6.3336 1.16628C6.77266 1.11628 7.2211 1.11628 7.66172 1.16628L7.94141 2.68191L8.53672 2.90535C8.98516 3.0741 9.40235 3.31472 9.77579 3.62097L10.2664 4.0241L11.7164 3.51003C11.982 3.86785 12.2039 4.25378 12.382 4.66003L11.2148 5.65847L11.3164 6.28191ZM6.99922 4.09597C5.48047 4.09597 4.24922 5.32722 4.24922 6.84597C4.24922 8.36472 5.48047 9.59597 6.99922 9.59597C8.51797 9.59597 9.74922 8.36472 9.74922 6.84597C9.74922 5.32722 8.51797 4.09597 6.99922 4.09597ZM8.23672 8.08347C8.07441 8.24625 7.88152 8.37533 7.66914 8.46328C7.45677 8.55124 7.22909 8.59633 6.99922 8.59597C6.53203 8.59597 6.09297 8.41316 5.76172 8.08347C5.59895 7.92116 5.46987 7.72827 5.38191 7.51589C5.29396 7.30352 5.24886 7.07584 5.24922 6.84597C5.24922 6.37878 5.43203 5.93972 5.76172 5.60847C6.09297 5.27722 6.53203 5.09597 6.99922 5.09597C7.46641 5.09597 7.90547 5.27722 8.23672 5.60847C8.3995 5.77078 8.52858 5.96367 8.61653 6.17605C8.70449 6.38843 8.74958 6.6161 8.74922 6.84597C8.74922 7.31316 8.56641 7.75222 8.23672 8.08347Z"/> </svg> `
const SWITCH_ICON = `<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"> <path d="M11.2486 7.25049H0.375171C0.306421 7.25049 0.250171 7.30674 0.250171 7.37549V8.31299C0.250171 8.38174 0.306421 8.43799 0.375171 8.43799H9.83142L7.57673 11.2974C7.51267 11.3786 7.57048 11.5005 7.67517 11.5005H8.80798C8.88455 11.5005 8.95642 11.4661 9.00486 11.4052L11.6424 8.05986C11.9002 7.73174 11.6674 7.25049 11.2486 7.25049ZM11.6252 3.56299H2.16892L4.42361 0.703613C4.48767 0.622363 4.42986 0.500488 4.32517 0.500488H3.19236C3.1158 0.500488 3.04392 0.534863 2.99548 0.595801L0.357983 3.94111C0.100171 4.26924 0.332983 4.75049 0.750171 4.75049H11.6252C11.6939 4.75049 11.7502 4.69424 11.7502 4.62549V3.68799C11.7502 3.61924 11.6939 3.56299 11.6252 3.56299Z"/> </svg> `

@Component({
  selector: 'cognum-menu-workspace-profile',
  templateUrl: './menu-workspace-profile.component.html',
  styleUrls: ['./menu-workspace-profile.component.scss'],
})
export class WorkspaceProfileComponent {
  isActivedMenu = false;

  constructor(
    private workspaceService: WorkspacesService,
    iconRegistry: MatIconRegistry,
    sanitizer: DomSanitizer
  ) {
    iconRegistry.addSvgIconLiteral('cognum-settings', sanitizer.bypassSecurityTrustHtml(SETTINGS_ICON));
    iconRegistry.addSvgIconLiteral('cognum-switch', sanitizer.bypassSecurityTrustHtml(SWITCH_ICON));
  }

  get workspace() {
    return this.workspaceService.selectedWorkspace;
  }

  get workspacePhoto() {
    return this.workspace.photo || 'https://storage.googleapis.com/factory-assets/workspace-avatar-default.png'
  }

}
